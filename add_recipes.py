#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö MIXTRIXüç∏
"""

import sqlite3
import os

def add_new_recipes():
    """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö"""
    
    # –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    conn = sqlite3.connect('cocktails.db')
    cursor = conn.cursor()
    
    print("üç∏ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –≤ MIXTRIX...")
    
    # –ù–æ–≤—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
    new_recipes = [
        # –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
        ("Espresso Martini", "60 –º–ª –≤–æ–¥–∫–∞, 30 –º–ª —ç—Å–ø—Ä–µ—Å—Å–æ, 20 –º–ª –∫–æ—Ñ–µ–π–Ω—ã–π –ª–∏–∫–µ—Ä, 10 –º–ª —Å–∞—Ö–∞—Ä–Ω—ã–π —Å–∏—Ä–æ–ø", 
         "–®–µ–π–∫ —Å–æ –ª—å–¥–æ–º, –ø–æ–¥–∞—á–∞ –≤ –∫–æ–∫—Ç–µ–π–ª—å–Ω–æ–º –±–æ–∫–∞–ª–µ", "–≤–æ–¥–∫–∞", "—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π", "MIXTRIX", 
         "–ö–æ—Ñ–µ–π–Ω—ã–π –∫–æ–∫—Ç–µ–π–ª—å —Å –∫–æ—Ñ–µ–∏–Ω–æ–º", "–∫–æ–∫—Ç–µ–π–ª—å–Ω—ã–π", "–∫–æ—Ñ–µ–π–Ω—ã–µ –∑–µ—Ä–Ω–∞", "—Å—Ä–µ–¥–Ω–∏–π", "4 –º–∏–Ω"),
        
        ("Aperol Spritz", "60 –º–ª Aperol, 90 –º–ª –ü—Ä–æ—Å–µ–∫–∫–æ, 30 –º–ª —Å–æ–¥–æ–≤–∞—è", 
         "–ë–∏–ª–¥ –≤ –±–æ–∫–∞–ª–µ —Å–æ –ª—å–¥–æ–º", "–∞–ø–µ—Ä–∏—Ç–∏–≤", "–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π", "MIXTRIX", 
         "–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π –∞–ø–µ—Ä–∏—Ç–∏–≤", "–≤–∏–Ω–Ω—ã–π", "–∞–ø–µ–ª—å—Å–∏–Ω–æ–≤–∞—è –¥–æ–ª—å–∫–∞", "–ª–µ–≥–∫–∏–π", "2 –º–∏–Ω"),
        
        ("French 75", "30 –º–ª –¥–∂–∏–Ω, 15 –º–ª –ª–∏–º–æ–Ω–Ω—ã–π —Å–æ–∫, 10 –º–ª —Å–∞—Ö–∞—Ä–Ω—ã–π —Å–∏—Ä–æ–ø, 60 –º–ª —à–∞–º–ø–∞–Ω—Å–∫–æ–µ", 
         "–®–µ–π–∫ –¥–∂–∏–Ω —Å —Å–æ–∫–æ–º –∏ —Å–∏—Ä–æ–ø–æ–º, –¥–æ–±–∞–≤–∏—Ç—å —à–∞–º–ø–∞–Ω—Å–∫–æ–µ", "–¥–∂–∏–Ω", "–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π", "MIXTRIX", 
         "–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–π –∫–æ–∫—Ç–µ–π–ª—å —Å —à–∞–º–ø–∞–Ω—Å–∫–∏–º", "—Ñ–ª–µ–π—Ç–∞", "–ª–∏–º–æ–Ω–Ω–∞—è —Ü–µ–¥—Ä–∞", "—Å—Ä–µ–¥–Ω–∏–π", "3 –º–∏–Ω"),
        
        # –°–µ–∑–æ–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
        ("Apple Cider Mule", "60 –º–ª –≤–æ–¥–∫–∞, 120 –º–ª —è–±–ª–æ—á–Ω—ã–π —Å–∏–¥—Ä, 30 –º–ª –ª–∞–π–º–æ–≤—ã–π —Å–æ–∫, –∏–º–±–∏—Ä—å", 
         "–ë–∏–ª–¥ –≤ –º–µ–¥–Ω–æ–π –∫—Ä—É–∂–∫–µ —Å–æ –ª—å–¥–æ–º", "–≤–æ–¥–∫–∞", "—Å–µ–∑–æ–Ω–Ω—ã–π", "MIXTRIX", 
         "–û—Å–µ–Ω–Ω–∏–π –≤–∞—Ä–∏–∞–Ω—Ç Moscow Mule", "–º–µ–¥–Ω–∞—è –∫—Ä—É–∂–∫–∞", "—è–±–ª–æ—á–Ω–∞—è –¥–æ–ª—å–∫–∞", "–ª–µ–≥–∫–∏–π", "3 –º–∏–Ω"),
        
        ("Cranberry Cosmopolitan", "60 –º–ª –≤–æ–¥–∫–∞, 30 –º–ª —Ç—Ä–∏–ø–ª —Å–µ–∫, 30 –º–ª –∫–ª—é–∫–≤–µ–Ω–Ω—ã–π —Å–æ–∫, 15 –º–ª –ª–∞–π–º–æ–≤—ã–π —Å–æ–∫", 
         "–®–µ–π–∫ —Å–æ –ª—å–¥–æ–º, –ø–æ–¥–∞—á–∞ –≤ –∫–æ–∫—Ç–µ–π–ª—å–Ω–æ–º –±–æ–∫–∞–ª–µ", "–≤–æ–¥–∫–∞", "—Å–µ–∑–æ–Ω–Ω—ã–π", "MIXTRIX", 
         "–ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π –∫–æ–∫—Ç–µ–π–ª—å —Å –∫–ª—é–∫–≤–æ–π", "–∫–æ–∫—Ç–µ–π–ª—å–Ω—ã–π", "–∫–ª—é–∫–≤–∞", "—Å—Ä–µ–¥–Ω–∏–π", "3 –º–∏–Ω"),
        
        # –ë–µ–∑–∞–ª–∫–æ–≥–æ–ª—å–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
        ("Virgin Mojito", "30 –º–ª –ª–∞–π–º–æ–≤—ã–π —Å–æ–∫, 20 –º–ª —Å–∞—Ö–∞—Ä–Ω—ã–π —Å–∏—Ä–æ–ø, 8 –ª–∏—Å—Ç—å–µ–≤ –º—è—Ç—ã, —Å–æ–¥–æ–≤–∞—è", 
         "–ú—É–¥–ª –º—è—Ç—ã, –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, –ø–æ–¥–∞—á–∞ –≤ —Ö–∞–π–±–æ–ª", "–±–µ–∑–∞–ª–∫–æ–≥–æ–ª—å–Ω—ã–π", "mocktail", "MIXTRIX", 
         "–û—Å–≤–µ–∂–∞—é—â–∏–π –±–µ–∑–∞–ª–∫–æ–≥–æ–ª—å–Ω—ã–π –º–æ—Ö–∏—Ç–æ", "—Ö–∞–π–±–æ–ª", "–º—è—Ç–∞ –∏ –ª–∞–π–º", "–ª–µ–≥–∫–∏–π", "3 –º–∏–Ω"),
        
        ("Shirley Temple", "30 –º–ª –≥—Ä–µ–Ω–∞–¥–∏–Ω, 120 –º–ª –∏–º–±–∏—Ä–Ω—ã–π —ç–ª—å, 30 –º–ª –ª–∏–º–æ–Ω–Ω—ã–π —Å–æ–∫", 
         "–ë–∏–ª–¥ –≤ —Ö–∞–π–±–æ–ª–µ —Å–æ –ª—å–¥–æ–º", "–±–µ–∑–∞–ª–∫–æ–≥–æ–ª—å–Ω—ã–π", "mocktail", "MIXTRIX", 
         "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –¥–µ—Ç—Å–∫–∏–π –∫–æ–∫—Ç–µ–π–ª—å", "—Ö–∞–π–±–æ–ª", "–≤–∏—à–Ω—è –º–∞—Ä–∞—Å–∫–∏–Ω–æ", "–ª–µ–≥–∫–∏–π", "2 –º–∏–Ω"),
        
        # –ü—Ä–∏–º–∏–∫—Å—ã
        ("Cinnamon Simple Syrup", "1 —á–∞—Å—Ç—å –∫–æ—Ä–∏—Ü–∞ –ø–∞–ª–æ—á–∫–∏, 1 —á–∞—Å—Ç—å —Å–∞—Ö–∞—Ä–∞, 1 —á–∞—Å—Ç—å –≤–æ–¥—ã", 
         "–ù–∞–≥—Ä–µ—Ç—å –≤–æ–¥—É —Å –∫–æ—Ä–∏—Ü–µ–π, —Ä–∞—Å—Ç–≤–æ—Ä–∏—Ç—å —Å–∞—Ö–∞—Ä, –ø—Ä–æ—Ü–µ–¥–∏—Ç—å", "—Å–∏—Ä–æ–ø", "–ø—Ä–∏–º–∏–∫—Å", "MIXTRIX", 
         "–ö–æ—Ä–∏—á–Ω—ã–π —Å–∞—Ö–∞—Ä–Ω—ã–π —Å–∏—Ä–æ–ø", "–±—É—Ç—ã–ª–∫–∞", "–Ω–µ—Ç", "–ª–µ–≥–∫–∏–π", "15 –º–∏–Ω"),
        
        ("Cardamom Syrup", "1 —á–∞—Å—Ç—å –∫–∞—Ä–¥–∞–º–æ–Ω, 1 —á–∞—Å—Ç—å —Å–∞—Ö–∞—Ä–∞, 1 —á–∞—Å—Ç—å –≤–æ–¥—ã", 
         "–ù–∞–≥—Ä–µ—Ç—å –≤–æ–¥—É —Å –∫–∞—Ä–¥–∞–º–æ–Ω–æ–º, —Ä–∞—Å—Ç–≤–æ—Ä–∏—Ç—å —Å–∞—Ö–∞—Ä, –ø—Ä–æ—Ü–µ–¥–∏—Ç—å", "—Å–∏—Ä–æ–ø", "–ø—Ä–∏–º–∏–∫—Å", "MIXTRIX", 
         "–ö–∞—Ä–¥–∞–º–æ–Ω–æ–≤—ã–π —Å–∏—Ä–æ–ø", "–±—É—Ç—ã–ª–∫–∞", "–Ω–µ—Ç", "—Å—Ä–µ–¥–Ω–∏–π", "20 –º–∏–Ω"),
        
        ("Smoky Syrup", "1 —á–∞—Å—Ç—å —Å–∞—Ö–∞—Ä–∞, 1 —á–∞—Å—Ç—å –≤–æ–¥—ã, –∂–∏–¥–∫–∏–π –¥—ã–º", 
         "–ù–∞–≥—Ä–µ—Ç—å –≤–æ–¥—É, —Ä–∞—Å—Ç–≤–æ—Ä–∏—Ç—å —Å–∞—Ö–∞—Ä, –¥–æ–±–∞–≤–∏—Ç—å –∂–∏–¥–∫–∏–π –¥—ã–º", "—Å–∏—Ä–æ–ø", "–ø—Ä–∏–º–∏–∫—Å", "MIXTRIX", 
         "–î—ã–º–Ω—ã–π —Å–∏—Ä–æ–ø –¥–ª—è –∫–æ–∫—Ç–µ–π–ª–µ–π", "–±—É—Ç—ã–ª–∫–∞", "–Ω–µ—Ç", "—Å—Ä–µ–¥–Ω–∏–π", "15 –º–∏–Ω")
    ]
    
    try:
        # –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ—Ü–µ–ø—Ç—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
        cursor.executemany("""
            INSERT OR IGNORE INTO recipes 
            (name, ingredients, method, base_spirit, category, source, 
             description, glassware, garnish, difficulty, prep_time) 
            VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
        """, new_recipes)
        
        conn.commit()
        print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ {len(new_recipes)} –Ω–æ–≤—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤!")
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        cursor.execute("SELECT category, COUNT(*) FROM recipes GROUP BY category")
        stats = cursor.fetchall()
        
        print("\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:")
        for category, count in stats:
            print(f"  {category}: {count} —Ä–µ—Ü–µ–ø—Ç–æ–≤")
        
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
        cursor.execute("SELECT COUNT(*) FROM recipes")
        total = cursor.fetchone()[0]
        print(f"\nüìö –í—Å–µ–≥–æ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –≤ –±–∞–∑–µ: {total}")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤: {e}")
    
    finally:
        conn.close()

def show_recipe_categories():
    """–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤"""
    conn = sqlite3.connect('cocktails.db')
    cursor = conn.cursor()
    
    cursor.execute("SELECT DISTINCT category FROM recipes ORDER BY category")
    categories = cursor.fetchall()
    
    print("\nüìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:")
    for category in categories:
        print(f"  ‚Ä¢ {category[0]}")
    
    conn.close()

def search_recipes_by_category(category):
    """–ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""
    conn = sqlite3.connect('cocktails.db')
    cursor = conn.cursor()
    
    cursor.execute("SELECT name, description FROM recipes WHERE category = ?", (category,))
    recipes = cursor.fetchall()
    
    print(f"\nüîç –†–µ—Ü–µ–ø—Ç—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ '{category}':")
    for recipe in recipes:
        print(f"  ‚Ä¢ {recipe[0]}: {recipe[1]}")
    
    conn.close()

def main():
    """–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    print("üç∏ MIXTRIX - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤")
    print("=" * 50)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    if not os.path.exists('cocktails.db'):
        print("‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –ó–∞–ø—É—Å—Ç–∏—Ç–µ main.py –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã.")
        return
    
    # –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã
    add_new_recipes()
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    show_recipe_categories()
    
    # –ü—Ä–∏–º–µ—Ä –ø–æ–∏—Å–∫–∞
    search_recipes_by_category('—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π')
    
    print("\nüéâ –ì–æ—Ç–æ–≤–æ! –ù–æ–≤—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ MIXTRIXüç∏")
    print("–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.")

if __name__ == "__main__":
    main()














